---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import siteConfig from '../data/site-config.json';
import { url } from '../utils/links';

const formUrl = siteConfig.sundaySchool.googleFormUrl;
const hasForm = formUrl && formUrl !== 'YOUR_GOOGLE_FORM_URL_HERE';
const registrationOpen = siteConfig.sundaySchool.registrationOpen;
---

<Layout title="Sunday School">
  <Hero 
    title="Sunday School"
    subtitle="Islamic education for the next generation"
    backgroundImage={url('/images/pwic-photo1.jpeg')}
  />

  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Introduction -->
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-gray-800 font-heading mb-6">
          Building Strong Foundations
        </h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed">
          Our Sunday School program is committed to teaching the Arabic language, Quran, 
          and providing Islamic education to children of the Muslim community. We welcome 
          students from Manassas, Centreville, Gainesville, and surrounding areas.
        </p>
      </div>

      <!-- Program Features -->
      <div class="grid md:grid-cols-3 gap-8 mb-16">
        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-2">Quran Studies</h3>
          <p class="text-gray-600">Learn to read, recite, and understand the Holy Quran with proper tajweed.</p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-2">Arabic Language</h3>
          <p class="text-gray-600">Learn to read, write, and speak Arabic, the language of the Quran.</p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-2">Islamic Studies</h3>
          <p class="text-gray-600">Learn about Islamic history, prophets, and how to apply Islam in daily life.</p>
        </div>
      </div>

      <!-- Class Information -->
      <div class="bg-primary-50 rounded-2xl p-8 mb-16">
        <h3 class="text-2xl font-bold text-primary-800 font-heading mb-6 text-center">
          Program Information
        </h3>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white rounded-xl p-6">
            <h4 class="font-semibold text-gray-800 mb-3">Schedule</h4>
            <ul class="space-y-2 text-gray-600">
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                <span>Every Sunday</span>
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>Morning Classes</span>
              </li>
            </ul>
          </div>
          <div class="bg-white rounded-xl p-6">
            <h4 class="font-semibold text-gray-800 mb-3">Ages</h4>
            <ul class="space-y-2 text-gray-600">
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span>Ages 5-15 years</span>
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span>Age-appropriate classes</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Registration -->
      <div class="text-center">
        <h3 class="text-2xl font-bold text-gray-800 font-heading mb-6">Registration</h3>
        
        {registrationOpen ? (
          hasForm ? (
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
              <iframe 
                src={formUrl}
                width="100%" 
                height="800" 
                frameborder="0" 
                marginheight="0" 
                marginwidth="0"
                class="w-full"
              >
                Loadingâ€¦
              </iframe>
            </div>
          ) : (
            <div class="bg-primary-100 rounded-2xl p-8">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-primary-200 rounded-full mb-6">
                <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
              </div>
              <h4 class="text-xl font-semibold text-primary-800 mb-3">Registration is Open!</h4>
              <p class="text-primary-700 mb-6">
                Please contact us to register your child for Sunday School.
              </p>
              <a 
                href={url('/contact')}
                class="inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors"
              >
                Contact Us to Register
              </a>
            </div>
          )
        ) : (
          <div class="bg-gray-100 rounded-2xl p-8">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gray-200 rounded-full mb-6">
              <svg class="w-8 h-8 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h4 class="text-xl font-semibold text-gray-700 mb-3">Registration Opening Soon</h4>
            <p class="text-gray-600">
              Registration for the next session will open soon. Please check back later or contact us for more information.
            </p>
          </div>
        )}
      </div>
    </div>
  </section>
</Layout>
